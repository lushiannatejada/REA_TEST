(this.webpackJsonpreactapi=this.webpackJsonpreactapi||[]).push([[0],{11:function(e,t,a){},16:function(e,t,a){e.exports=a(26)},21:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),s=(a(21),a(1)),l=a(2),i=a(4),u=a(3),m=a(5),p=(a(11),a(7)),d=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){e.preventDefault();for(var t=e.target.options,n=[],r=0,o=t.length;r<o;r++)t[r].selected&&n.push(t[r].value);a.setState({value:n}),a.props.onGetLabels({value:n})},a.busquedaRef=r.a.createRef(),a.obtenerDatos=function(e){e.preventDefault(),console.log(a.busquedaRef.current.value);var t=a.busquedaRef.current.value;a.props.datosBusqueda(t,a.value)},a.state={value:["Infer"]},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("form",{onSubmit:this.obtenerDatos},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("input",{ref:this.busquedaRef,type:"text",className:"form-control form-control-lg",placeholder:""})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("select",{className:"form-control","data-placeholder":"Select Your Options",multiple:!0,onChange:this.handleChange,value:e},r.a.createElement("option",{value:"identify o recognize"},"identify o recognize"),r.a.createElement("option",{value:"discriminate"},"discriminate"),r.a.createElement("option",{value:"compare"},"compare"),r.a.createElement("option",{value:"select"},"select"),r.a.createElement("option",{value:"organize"},"organize"),r.a.createElement("option",{value:"analize or analyze"},"analize or analyze"),r.a.createElement("option",{value:"infer"},"infer"),r.a.createElement("option",{value:"judge or prosecute"},"judge or prosecute"),r.a.createElement("option",{value:"represent"},"represent or diagram or schematize or design or graph or draw"),r.a.createElement("option",{value:"argue"},"argue"),r.a.createElement("option",{value:"apply or use"},"apply or use"),r.a.createElement("option",{value:"formulate or pose"},"formulate or pose"))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("input",{type:"submit",className:"btn btn-lg btn-danger btn-block",placeholder:""}))))}}]),t}(n.Component),f=function(e){var t=e.documento,a=t.author,n=t.etiquetas,o=t.link,c=t.matherial_type,s=t.overview,l=t.subject,i=t.title;return r.a.createElement("div",{className:"col-12 col-sm-4 col-md-12  col-lg-12 mb-4"},r.a.createElement("div",{className:"card border-success text-justify text-white "},r.a.createElement("div",{class:"card-header"},r.a.createElement("h4",{className:"card-title"},i)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},s)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},"Etiquetas:  ",n),r.a.createElement("p",{className:"card-text"},"Subject: ",l),r.a.createElement("p",{className:"card-text"},"Material: ",c),r.a.createElement("p",{className:"card-text"},"Autor: ",a)),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{href:o,target:"_blank",className:"btn btn-primary bt-block"},"Link REA"))))},g=function(e){return r.a.createElement("div",{className:"py-3"},r.a.createElement("button",{onClick:e.paginaAnterior,type:"button",className:"btn btn-info mr-1"},"Anterior \u2190"),r.a.createElement("button",{onClick:e.paginaSiguiente,type:"button",className:"btn btn-info"},"Siguiente \u2192"))},v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).mostrarDocumentos=function(){var e=a.props.docs;return 0===e.length?null:(console.log("docs"+e),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-12 p-5 row"},e.map((function(e){return r.a.createElement(f,{key:e.objectID,documento:e})}))),r.a.createElement(g,{paginaAnterior:a.props.paginaAnterior,paginaSiguiente:a.props.paginaSiguiente})))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.mostrarDocumentos())}}]),t}(n.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("img",{src:"/imagenes/UCSM.png",alt:""}))}}]),t}(n.Component),h=a(9),E=a.n(h);a(23);try{E.a.initializeApp({apiKey:"AIzaSyAYhSBwG_WIw1cY-OSqJRgj-L4z7kS_Sg8",authDomain:"rea-test-fefd9.firebaseapp.com",databaseURL:"https://rea-test-fefd9.firebaseio.com",projectId:"rea-test-fefd9",storageBucket:"rea-test-fefd9.appspot.com",messagingSenderId:"592442703928",appId:"1:592442703928:web:e9f9d70c958bf11ac0a6cd",measurementId:"G-5JJN88VMRM"})}catch(N){/already exists/.test(N.message)||console.error("Firebase initialization error",N.stack)}var y=E.a.database(),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).EnviarQuery=function(){for(var e=a.state.termino,t=a.state.pagina,n=a.state.selected,r=0,o=n.length;r<o;r++)e+=" "+n[r];return console.log(e),y.ref("recursos/queries").push({query:e,pag:t,etiquetas:n}).key},a.Resultados=function(e){try{y.ref("recursos/results/"+e).on("value",(function(e){if(e.exists()){if(a._isMounted=!0,null==e.val().hits)a._isMounted=!1;else var t=e.val().hits;console.log(t),a._isMounted&&a.setState({docs:t})}}))}catch(N){console.log(N)}},a.getLabel=function(e){a.setState({selected:e}),console.log("Selected: ",e)},a.datosBusqueda=function(e){var t=performance.now();a.setState({termino:e,pagina:1},(function(){var e=a.EnviarQuery();console.log(e),a.Resultados(e)}));var n=performance.now();console.log("tiempo"+(n-t))},a.scroll=function(){document.querySelector(".jumbotron").scrollIntoView("smooth","start")},a.paginaAnterior=function(){var e=a.state.pagina;if(1===e)return null;e-=1,a.setState({pagina:e},(function(){var e=a.EnviarQuery();a.Resultados(e),a.scroll()}))},a.paginaSiguiente=function(){var e=a.state.pagina;e+=1,a.setState({pagina:e},(function(){var e=a.EnviarQuery();a.Resultados(e)}))},a.state={termino:"",documentos:[],docs:[],selected:[],pagina:"0"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app container"},r.a.createElement(b,null),r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h2",{className:"text-center"},"REA Buscador"),r.a.createElement(d,{onGetLabels:this.getLabel,datosBusqueda:this.datosBusqueda})),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement(v,{docs:this.state.docs,paginaAnterior:this.paginaAnterior,paginaSiguiente:this.paginaSiguiente})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.9eeedcf0.chunk.js.map